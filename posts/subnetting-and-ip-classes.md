---
title: آدرس آی‌پی ما سر کدوم کلاس نشسته؟
slug: subnetting-and-ip-classes
language: fa
date: 22 Aug 2023
og: public/posters/subnetting-advantages.png
tags: network, basics
---

### آدرس آی‌پی ما سر کدوم کلاس نشسته؟

برای شروع پست نیاز هست به سال‌های 1980 برگردیم، دقیقا زمانی که تیم‌های تحقیقاتی با خلق مفهوم جدیدی به‌نام IPv4 و تایید شدن TCP/IP به‌عنوان یک استاندارد توسط DOD آمریکا، ساختن آینده‌ای که امروز تجربه‌اش می‌کنیم رو کلید زدند.

هیچکس فراگیری اینترنت به وسعت امروز رو نمی‌تونست متصور بشه و زمانی که برای مبحث آدرس آی‌پی تصمیم گرفته می‌شد، یک مقدار 32 بیتی رو قرار دادن و با خودشون گفتن که بقیشم خدا کریم.

**کمی حالت داستانی به ادامه پست اضافه می‌کنم تا مفاهیم ابتدایی مرور شه و همچنین تصویرسازی‌ها در یادآوری مسائل کمک کنند، بنابراین اشخاص و حکایت‌ها غیرحقیقی هستند تا بتونیم مسئله رو ساده‌تر کنی**

این حین یه پدر بیامرز هم داشته از جلوی در رد می‌شده و دیده که تیم تحقیقاتی یه آدرس چرکین مثل آدرس زیر رو روی تخته نوشته بودن، با یه فلش هم مشخص کردن این آدرس آی‌پی باشه.

```
IP Address :
10110111100111000101111100111110
```

روحیه‌اش اجازه نداده، با خودش گفته اینجوری نمی‌شه و طی دو مرحله یه زیبایی به یاد ماندنی رو خلق کرده:

1.با خودش گفته که بیت خیلی عریض و طویل هست، بزار هر ۸ بیت رو جدا کنم و حالا تنها ۴ بایت داشت که با نقطه هم جداشون کرده بود تا مبادا قاطی بشن.

```
IP Address :
1011 0111 . 1001 1100 . 0101 1111 . 0011 1110
```

1. دیدن این آدرس آیپی خیلی راحت‌تر از حالت قبل بود اما گفت که چرا هر بایت رو به مقدار دسیمال تبدیل نکنیم؟!

```
IP Address :
183.156.95.62
```

خودش وقتی نتیجه رو دید، رنگ از رخسار باخت و بدو بدو رفت پیش تیم تحقیقاتی تا این اثر هنریش رو پرزنت کنه. همه خوششون اومده بود و از اون زمان تا به‌حال برای نمایش آدرس آیپی نسخه 4 به انسان از این راهکار استفاده شده.

احتمالا برای همه‌تون قابل حدس باشه، یه آدرس آیپی داریم که تنها می‌تونه از پس 2³² کاربر فعال بربیاد که محاسبه و رنج موجود کل آدرس‌های آی‌پی که می‌تونیم بسازیم رو پایین براتون قرار میدم. حالا که حرف از محدودیت شده بود باید خیلی محتاطانه و با برنامه‌ریزی از این آدرس‌ها استفاده می‌کردیم.

```
2³² = 4,294,967,296

Binary:

0000 0000 . 0000 0000 . 0000 0000 . 0000 0000

1111 1111 . 1111 1111 . 1111 1111 . 1111 1111

Decimal:

0.0.0.0

255.255.255.255
```

اگر به مقدارهای دسیمال دقت کنید، می‌بینید که رنج آدرس آی‌پی از مقدار ```0.0.0.0``` شروع می‌شه تا ```255.255.255.255``` به همین منظور تمام آی‌پی‌ها رو به رنج‌های کوچک‌تر شکوندن و حتی این بار نحوه‌ی به‌کار بردن آدرس آی‌پی رو هم مشخص کردن. مثلا به‌طور دقیقی گفتن رنج ```127.0.0.0/8``` برای loop-back باشه تا بتونیم کارت شبکه‌مون رو تست کنیم. (به‌نظر خودم این رنج رو خیلی دست بالا گرفتن)

یا امروزه برای مودم‌های خونگی رنج پیش‌فرض ```192.168.1.0/24``` درنظر گرفته شده و داخل این شبکه‌ی محلی هم از آدرس‌های آی‌پی ```192.168.1.2``` تا ```192.168.1.254``` رو به دستگاه‌های متصل به مودم اختصاص میدن.

#### حالا داستان این رنج‌ها چیه و چطور به‌وجود اومدن؟

متخصصین شبکه برای پاسخ به این نیازمندی یعنی تعریف رنج‌های مشخص از شبکه، مفهومی با عنوان subnetting رو به‌وجود آوردند که به ما این امکان رو میده تا با تعیین subnet mask، رنج‌های به‌خصوصی رو براساس نیازمندی‌مون تعریف کنیم.

اما صبر کنید، اگر دقت کنید می‌بینید که رنج‌های قبلی رو به صورت خاصی نوشتم. اینجا نیاز هست به‌عنوان یک متخصص به مفاهیم پایه‌ای برگردیم.

1. ابتدا این سوال مطرح می‌شه که رنج ```192.168.1.0/24``` چه محدوده‌ای از آدرس‌های آی‌پی رو شامل می‌شه؟

در جواب باید بگم که آدرس آی‌پی ```192.168.1.1``` تا ```192.168.1.254``` جزو این رنج هست.

2. آدرس‌های ```192.168.1.0``` و ```192.168.1.255``` چی شدند پس؟

آدرس ```192.168.1.0``` به‌عنوان شناسه شبکه شناخته می‌شه و از آدرس ```192.168.1.255``` به‌منظور broadcast استفاده می‌شه.

3. اون ```24/``` داخل رنج چه معنی میده؟

یعنی اینکه subnet mask زیر رو در تنظیمات شبکه پیکربندی کردیم و در نتیجه، 24 بیت اول آدرس آی‌پی ما ثابت هست.

```
Mask (subnet mask):

255.255.255.0
```

4. این subnet mask دیگه چیه و از کجا اومده؟

برای subnetting مجددا یک رشته 32 بیتی تعریف شد که دو مقدار ```شناسنه شبکه``` و ```هاست``` رو برای ما تفکیک می‌کنه.

   1. نکته: شناسه شبکه مقداری ثابت و هاست متغیر هست.
   2. نکته: ارزش دسیمال هر بایت تنها می‌تونه 0 یا 255 باشه.
   3. نکته: ارزش دسیمال 255 نمایان‌گر شناسه شبکه و ارزش 0 نمایان‌گر هاست هست.

1. با این فرض که اگر یک ساختمون سه طبقه با 750 دستگاه داشته باشیم که باید همه‌ی دستگاه‌ها هم به اینترنت متصل بشن، چه راه‌کاری هست؟

در ساده‌ترین حالت می‌تونیم subnet mask زیر رو تنظیم کنیم تا رنج ما به ```192.168.0.0/16``` تغییر کنه و تنها 16 بیت ابتدایی آدرس‌های آی‌پی، مقداری ثابت باشه.

```
Mask (subnet mask):

255.255.0.0
```

حالا می‌تونیم مثلا آدرس‌های ```192.168.1.0/24```، ```192.168.2.0/24``` و ```192.168.3.0/24``` رو به ترتیب از روتر اصلی به مودم‌های هر طبقه اختصاص بدیم تا تمام 750 موجود در ساختمون به شبکه متصل بشن.

به‌عنوان جمله‌ی پایانی باید بگم که با دونستن تمام این اطلاعات، تنها کافیه جدول زیر رو بررسی کنید و ببینید آی‌پی شما از چه کلاسی هست:

| Class | Default Subnet Mask  |      Public IP Range       |        Private IP Range        |
| :---: | :------------------: | :------------------------: | :----------------------------: |
|   A   |   255.0.0.0 -- /8    |    1.0.0.0 to 127.0.0.0    |   10.0.0.0 to 10.255.255.255   |
|   B   |  255.255.0.0 -- /16  |  128.0.0.0 to 191.255.0.0  |  172.16.0.0 to 172.31.255.255  |
|   C   | 255.255.255.0 -- /24 | 192.0.0.0 to 223.255.255.0 | 192.168.0.0 to 192.168.255.255 |

برای مطالعه‌ی جزئیات بیشتر از هر کلاس می‌تونید مطلب زیر رو مطالعه کنید:

[The Five IPv4 Classes - Quick Reference](https://www.meridianoutpost.com/resources/articles/IP-classes.php)

اگر دقت کرده باشید، مباحث رو باز نکردم چون پست پیچیده می‌شه و حالت عملیاتی به خودش می‌گیره. شاید بعدا توضیحات رو کامل‌تر کردم اما در حال حاضر یادگیری مفاهیم پایه‌ای هدف اصلی این پست هست.